<div id="users"></div>

<script>
    // рассмотрит асинхронный запрос на ES-5 XMLHttpRequest

    const API = 'https://jsonplaceholder.typicode.com/users'; // api сервера
    const API2 = 'https://raw.githubusercontent.com/Breakhead2/JS-Theory/main/server.json'; // api сервера


    // синтаксис:

    let xhr = new XMLHttpRequest();

    // откроем запрос, то есть укажем ссылку на сервер,с которым будем работать

    xhr.open("GET", API2, true);
    console.log(xhr.readyState);
    //xhr.readyState  - cтатус запроса
    // 0 - запрос не инициируется
    // 1 - загрузка данных
    // 2 - запрос не принят
    // 3 - идет обмен данными
    // 4 - запрос выполнен

    xhr.onreadystatechange = () => {
        if (xhr.readyState != 4) {
            return "Error"
        }
        if (xhr.status != 200) {
            return "Error status is not 200"
        }
        else {
            let data = JSON.parse(xhr.responseText);
            console.log(data);
            let users = [...data];
            users.forEach(user => document.getElementById("users").insertAdjacentHTML("beforeend", `<p>${user.name} ${user.surname}</p>`))

        }
    }

    xhr.send()
</script>